2025-07-29 20:16:25.777 | INFO     | __main__:main:37 - Starting FAISS index build process
2025-07-29 20:16:25.778 | INFO     | __main__:main:50 - Initializing SFDC client...
2025-07-29 20:16:25.778 | INFO     | src.data_extraction.sfdc_client:_connect:34 - Connecting to Salesforce with:
2025-07-29 20:16:25.778 | INFO     | src.data_extraction.sfdc_client:_connect:35 -   Username: jaykarki@algo.com
2025-07-29 20:16:25.778 | INFO     | src.data_extraction.sfdc_client:_connect:36 -   Login URL: https://login.salesforce.com
2025-07-29 20:16:25.778 | INFO     | src.data_extraction.sfdc_client:_connect:37 -   Domain: login
2025-07-29 20:16:25.778 | INFO     | src.data_extraction.sfdc_client:_connect:38 -   API Version: 58.0
2025-07-29 20:16:25.778 | INFO     | src.data_extraction.sfdc_client:_connect:39 -   Security Token: ************************
2025-07-29 20:16:27.597 | INFO     | src.data_extraction.sfdc_client:_connect:49 - Successfully connected to Salesforce
2025-07-29 20:16:28.119 | INFO     | src.data_extraction.sfdc_client:test_connection:220 - Salesforce connection test successful
2025-07-29 20:16:28.120 | INFO     | __main__:main:58 - Initializing text processor...
2025-07-29 20:16:28.120 | INFO     | __main__:main:61 - Initializing vector database...
2025-07-29 20:16:28.121 | INFO     | __main__:main:65 - Extracting case data from Salesforce...
2025-07-29 20:16:29.457 | INFO     | __main__:main:74 - Processing batch 1 with 200 records
2025-07-29 20:16:29.457 | INFO     | src.utils.text_processor:preprocess_case_data:34 - Preprocessing 200 case records
2025-07-29 20:16:29.457 | INFO     | src.utils.text_processor:_validate_data:246 - Performing data validation...
2025-07-29 20:16:29.607 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:294 - Detecting duplicate cases...
2025-07-29 20:16:29.608 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:301 - Found 167 exact text duplicates
2025-07-29 20:16:29.623 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:315 - Found 17 near-duplicates by content hash
2025-07-29 20:16:29.623 | INFO     | src.utils.text_processor:_apply_quality_filters:366 - Applying quality filters...
2025-07-29 20:16:29.631 | INFO     | src.utils.text_processor:_apply_quality_filters:373 - Removing 10 cases with high repetition
2025-07-29 20:16:29.633 | INFO     | src.utils.text_processor:_apply_quality_filters:402 - Quality filters removed 10 low-quality records
2025-07-29 20:16:29.633 | INFO     | src.utils.text_processor:preprocess_case_data:86 - Quality control filtered out 194 records
2025-07-29 20:16:30.625 | INFO     | __main__:main:74 - Processing batch 2 with 200 records
2025-07-29 20:16:30.626 | INFO     | src.utils.text_processor:preprocess_case_data:34 - Preprocessing 200 case records
2025-07-29 20:16:30.626 | INFO     | src.utils.text_processor:_validate_data:246 - Performing data validation...
2025-07-29 20:16:30.714 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:294 - Detecting duplicate cases...
2025-07-29 20:16:30.715 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:301 - Found 166 exact text duplicates
2025-07-29 20:16:30.727 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:315 - Found 20 near-duplicates by content hash
2025-07-29 20:16:30.727 | INFO     | src.utils.text_processor:_apply_quality_filters:366 - Applying quality filters...
2025-07-29 20:16:30.735 | INFO     | src.utils.text_processor:preprocess_case_data:86 - Quality control filtered out 186 records
2025-07-29 20:16:31.737 | INFO     | __main__:main:74 - Processing batch 3 with 200 records
2025-07-29 20:16:31.738 | INFO     | src.utils.text_processor:preprocess_case_data:34 - Preprocessing 200 case records
2025-07-29 20:16:31.738 | INFO     | src.utils.text_processor:_validate_data:246 - Performing data validation...
2025-07-29 20:16:31.848 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:294 - Detecting duplicate cases...
2025-07-29 20:16:31.848 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:301 - Found 178 exact text duplicates
2025-07-29 20:16:31.854 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:315 - Found 1 near-duplicates by content hash
2025-07-29 20:16:31.854 | INFO     | src.utils.text_processor:_apply_quality_filters:366 - Applying quality filters...
2025-07-29 20:16:31.864 | INFO     | src.utils.text_processor:_apply_quality_filters:373 - Removing 13 cases with high repetition
2025-07-29 20:16:31.865 | INFO     | src.utils.text_processor:_apply_quality_filters:402 - Quality filters removed 13 low-quality records
2025-07-29 20:16:31.865 | INFO     | src.utils.text_processor:preprocess_case_data:86 - Quality control filtered out 192 records
2025-07-29 20:16:33.039 | INFO     | __main__:main:74 - Processing batch 4 with 200 records
2025-07-29 20:16:33.040 | INFO     | src.utils.text_processor:preprocess_case_data:34 - Preprocessing 200 case records
2025-07-29 20:16:33.040 | INFO     | src.utils.text_processor:_validate_data:246 - Performing data validation...
2025-07-29 20:16:33.180 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:294 - Detecting duplicate cases...
2025-07-29 20:16:33.181 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:301 - Found 157 exact text duplicates
2025-07-29 20:16:33.196 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:315 - Found 19 near-duplicates by content hash
2025-07-29 20:16:33.197 | INFO     | src.utils.text_processor:_apply_quality_filters:366 - Applying quality filters...
2025-07-29 20:16:33.209 | INFO     | src.utils.text_processor:_apply_quality_filters:373 - Removing 11 cases with high repetition
2025-07-29 20:16:33.212 | INFO     | src.utils.text_processor:_apply_quality_filters:402 - Quality filters removed 11 low-quality records
2025-07-29 20:16:33.212 | INFO     | src.utils.text_processor:preprocess_case_data:86 - Quality control filtered out 187 records
2025-07-29 20:16:33.941 | INFO     | __main__:main:74 - Processing batch 5 with 200 records
2025-07-29 20:16:33.941 | INFO     | src.utils.text_processor:preprocess_case_data:34 - Preprocessing 200 case records
2025-07-29 20:16:33.941 | INFO     | src.utils.text_processor:_validate_data:246 - Performing data validation...
2025-07-29 20:16:33.995 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:294 - Detecting duplicate cases...
2025-07-29 20:16:33.996 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:301 - Found 177 exact text duplicates
2025-07-29 20:16:34.000 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:315 - Found 1 near-duplicates by content hash
2025-07-29 20:16:34.001 | INFO     | src.utils.text_processor:_apply_quality_filters:366 - Applying quality filters...
2025-07-29 20:16:34.008 | INFO     | src.utils.text_processor:_apply_quality_filters:373 - Removing 4 cases with high repetition
2025-07-29 20:16:34.011 | INFO     | src.utils.text_processor:_apply_quality_filters:402 - Quality filters removed 4 low-quality records
2025-07-29 20:16:34.011 | INFO     | src.utils.text_processor:preprocess_case_data:86 - Quality control filtered out 183 records
2025-07-29 20:16:34.349 | INFO     | __main__:main:74 - Processing batch 6 with 200 records
2025-07-29 20:16:34.349 | INFO     | src.utils.text_processor:preprocess_case_data:34 - Preprocessing 200 case records
2025-07-29 20:16:34.349 | INFO     | src.utils.text_processor:_validate_data:246 - Performing data validation...
2025-07-29 20:16:34.360 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:294 - Detecting duplicate cases...
2025-07-29 20:16:34.361 | INFO     | src.utils.text_processor:_apply_quality_filters:366 - Applying quality filters...
2025-07-29 20:16:34.362 | INFO     | src.utils.text_processor:preprocess_case_data:86 - Quality control filtered out 200 records
2025-07-29 20:16:34.784 | INFO     | __main__:main:74 - Processing batch 7 with 200 records
2025-07-29 20:16:34.785 | INFO     | src.utils.text_processor:preprocess_case_data:34 - Preprocessing 200 case records
2025-07-29 20:16:34.785 | INFO     | src.utils.text_processor:_validate_data:246 - Performing data validation...
2025-07-29 20:16:34.797 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:294 - Detecting duplicate cases...
2025-07-29 20:16:34.797 | INFO     | src.utils.text_processor:_apply_quality_filters:366 - Applying quality filters...
2025-07-29 20:16:34.798 | INFO     | src.utils.text_processor:preprocess_case_data:86 - Quality control filtered out 200 records
2025-07-29 20:16:35.191 | INFO     | __main__:main:74 - Processing batch 8 with 200 records
2025-07-29 20:16:35.191 | INFO     | src.utils.text_processor:preprocess_case_data:34 - Preprocessing 200 case records
2025-07-29 20:16:35.192 | INFO     | src.utils.text_processor:_validate_data:246 - Performing data validation...
2025-07-29 20:16:35.203 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:294 - Detecting duplicate cases...
2025-07-29 20:16:35.204 | INFO     | src.utils.text_processor:_apply_quality_filters:366 - Applying quality filters...
2025-07-29 20:16:35.205 | INFO     | src.utils.text_processor:preprocess_case_data:86 - Quality control filtered out 200 records
2025-07-29 20:16:35.501 | INFO     | __main__:main:74 - Processing batch 9 with 200 records
2025-07-29 20:16:35.501 | INFO     | src.utils.text_processor:preprocess_case_data:34 - Preprocessing 200 case records
2025-07-29 20:16:35.501 | INFO     | src.utils.text_processor:_validate_data:246 - Performing data validation...
2025-07-29 20:16:35.513 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:294 - Detecting duplicate cases...
2025-07-29 20:16:35.513 | INFO     | src.utils.text_processor:_apply_quality_filters:366 - Applying quality filters...
2025-07-29 20:16:35.515 | INFO     | src.utils.text_processor:preprocess_case_data:86 - Quality control filtered out 200 records
2025-07-29 20:16:35.908 | INFO     | __main__:main:74 - Processing batch 10 with 200 records
2025-07-29 20:16:35.908 | INFO     | src.utils.text_processor:preprocess_case_data:34 - Preprocessing 200 case records
2025-07-29 20:16:35.908 | INFO     | src.utils.text_processor:_validate_data:246 - Performing data validation...
2025-07-29 20:16:35.922 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:294 - Detecting duplicate cases...
2025-07-29 20:16:35.923 | INFO     | src.utils.text_processor:_apply_quality_filters:366 - Applying quality filters...
2025-07-29 20:16:35.924 | INFO     | src.utils.text_processor:preprocess_case_data:86 - Quality control filtered out 200 records
2025-07-29 20:16:36.223 | INFO     | __main__:main:74 - Processing batch 11 with 85 records
2025-07-29 20:16:36.223 | INFO     | src.utils.text_processor:preprocess_case_data:34 - Preprocessing 85 case records
2025-07-29 20:16:36.224 | INFO     | src.utils.text_processor:_validate_data:246 - Performing data validation...
2025-07-29 20:16:36.230 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:294 - Detecting duplicate cases...
2025-07-29 20:16:36.231 | INFO     | src.utils.text_processor:_apply_quality_filters:366 - Applying quality filters...
2025-07-29 20:16:36.232 | INFO     | src.utils.text_processor:preprocess_case_data:86 - Quality control filtered out 85 records
2025-07-29 20:16:36.234 | INFO     | __main__:main:100 - Extracted 58 case records
2025-07-29 20:16:36.234 | INFO     | __main__:main:103 - Processing text data...
2025-07-29 20:16:36.234 | INFO     | src.utils.text_processor:preprocess_case_data:34 - Preprocessing 58 case records
2025-07-29 20:16:36.235 | INFO     | src.utils.text_processor:_validate_data:246 - Performing data validation...
2025-07-29 20:16:36.256 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:294 - Detecting duplicate cases...
2025-07-29 20:16:36.256 | INFO     | src.utils.text_processor:_detect_and_handle_duplicates:301 - Found 35 exact text duplicates
2025-07-29 20:16:36.262 | INFO     | src.utils.text_processor:_apply_quality_filters:366 - Applying quality filters...
2025-07-29 20:16:36.275 | INFO     | src.utils.text_processor:preprocess_case_data:86 - Quality control filtered out 35 records
2025-07-29 20:16:36.276 | INFO     | src.utils.text_processor:get_text_stats:233 - Text statistics: {'total_records': 23, 'avg_text_length': 5816.260869565217, 'min_text_length': 446, 'max_text_length': 15920, 'median_text_length': 4356.0, 'empty_text_count': 0}
2025-07-29 20:16:36.276 | INFO     | __main__:main:108 - Text processing complete. Stats: {'total_records': 23, 'avg_text_length': 5816.260869565217, 'min_text_length': 446, 'max_text_length': 15920, 'median_text_length': 4356.0, 'empty_text_count': 0}
2025-07-29 20:16:36.276 | INFO     | __main__:main:111 - Building FAISS vector index...
2025-07-29 20:16:36.276 | INFO     | src.vectorization.vector_db:build_index:110 - Building production-scale FAISS index from 23 cases
2025-07-29 20:16:36.276 | INFO     | src.vectorization.vector_db:_load_model:40 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-07-29 20:16:36.286 | INFO     | src.vectorization.vector_db:_load_model:44 - Using device: mps
2025-07-29 20:16:40.239 | INFO     | src.vectorization.vector_db:_load_model:49 - Model loaded successfully for local execution
2025-07-29 20:16:40.239 | INFO     | src.vectorization.vector_db:_create_embeddings_large_scale:161 - Creating embeddings for 23 texts in batches of 500
2025-07-29 20:16:40.239 | ERROR    | __main__:main:142 - Error during index build: name 'time' is not defined
